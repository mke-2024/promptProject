# DeepSeek API

### Шаг 1: Установка необходимых библиотек
Для начала убедитесь, что у вас установлена библиотека `requests`, которая позволит отправлять HTTP-запросы. Если она не установлена, выполните команду:

```bash
pip install requests
```

### Шаг 2: Пример использования API

Вот пример кода на Python, который отправляет запрос к API DeepSeek и получает ответ:

```python
import requests
import json

# Ваш API ключ
api_key = "ваш_api_ключ"

# URL API
url = "https://api.deepseek.com/v1/chat/completions"

# Заголовки запроса
headers = {
    "Content-Type": "application/json",
    "Authorization": f"Bearer {api_key}"
}

# Данные для отправки
data = {
    "model": "deepseek-chat",  # Укажите модель
    "messages": [
        {"role": "user", "content": "Привет! Как дела?"}
    ]
}

# Отправка POST-запроса
response = requests.post(url, headers=headers, data=json.dumps(data))

# Проверка статуса ответа
if response.status_code == 200:
    # Получение и вывод ответа
    result = response.json()
    print(result['choices'][0]['message']['content'])
else:
    print(f"Ошибка: {response.status_code}")
    print(response.text)
```

### Шаг 3: Доступные модели

DeepSeek предоставляет несколько моделей, которые можно использовать через API. Вот некоторые из них:

1. **deepseek-chat** - Основная модель для чата, которая отлично подходит для общих задач, таких как ответы на вопросы, генерация текста и т.д.
2. **deepseek-code** - Специализированная модель для работы с кодом, которая может помочь в написании, отладке и анализе кода.
3. **deepseek-math** - Модель, оптимизированная для решения математических задач и работы с числовыми данными.

### Шаг 4: Обработка ответа

Ответ от API будет в формате JSON. В поле `choices` будет содержаться массив с ответами модели. Обычно вам нужно будет извлечь текст из первого элемента этого массива, как показано в примере выше.

### Шаг 5: Обработка ошибок

Всегда проверяйте статус ответа (`response.status_code`). Если статус не равен 200, это означает, что произошла ошибка. В таком случае, вы можете вывести текст ошибки для диагностики.

## Роли сообщений:

- `"user"` — роль для сообщений, которые отправляет пользователь.
- `"assistant"` — роль для сообщений, которые возвращает модель.
- `"system"` — роль для системных сообщений, которые могут задавать контекст или инструкции для модели.

Роль `"developer"` или аналогичные пользовательские роли (например, `"expert"`) **не предусмотрены** в стандартном API DeepSeek. Если вы хотите указать, что вы эксперт или задать контекст для модели, вы можете использовать роль `"system"` или просто добавить эту информацию в сообщение пользователя (`"user"`).

### Пример с использованием роли `"system"`:
```python
data = {
    "model": "deepseek-chat",  # Укажите модель
    "messages": [
        {"role": "system", "content": "Вы общаетесь с экспертом в области искусственного интеллекта."},
        {"role": "user", "content": "Привет! Как дела?"}
    ]
}
```

### Пример с добавлением контекста в сообщение пользователя:
```python
data = {
    "model": "deepseek-chat",  # Укажите модель
    "messages": [
        {"role": "user", "content": "Я эксперт в области ИИ. Привет! Как дела?"}
    ]
}
```

### Почему нет роли `"developer"` или `"expert"`?
Роли `"user"`, `"assistant"` и `"system"` являются стандартными для большинства API языковых моделей (например, OpenAI, DeepSeek и других). Они помогают модели понимать, кто инициирует диалог, кто отвечает и какие инструкции заданы. Добавление нестандартных ролей может привести к непредсказуемому поведению модели, так как она обучена на данных с определенной структурой.

### Что делать, если нужно задать контекст?
Используйте роль `"system"` для задания контекста или инструкций. Например:
```python
data = {
    "model": "deepseek-chat",
    "messages": [
        {"role": "system", "content": "Вы общаетесь с экспертом по Python."},
        {"role": "user", "content": "Как лучше всего оптимизировать код на Python?"}
    ]
}
```

Таким образом, вы можете эффективно управлять контекстом диалога, даже без использования нестандартных ролей.
